!function(e){"use strict";var o=e.querySelector("#app");o.showSpinner=!0,o.populationMarkers=null,o.clusterNames=["Western Europe","Relicts","Germany","Northern Sweden","Iberian Peninsula","Central Asia","Southern Sweden","Italy, Balkans, Caucasus","Central Europe"],o.displayInstalledToast=function(){Polymer.dom(e).querySelector("platinum-sw-cache").disabled||Polymer.dom(e).querySelector("#caching-complete").show()},o.addEventListener("dom-change",function(){o.$.mapelement.addEventListener("google-map-ready",function(){if(null!==o.populationMarkers)for(var e=0;e<o.populationMarkers.length;e++){var n=o.populationMarkers[e];n.setMap(o.$.mapelement.map)}})}),o.populations=[{label:"Western Europe (117)",color:"#5781fc"},{label:"Relict (25)",color:"#00e03d",isRelic:!0},{label:"Germany (171)",color:"#55d8d8"},{label:"North Sweden (64)",color:"#ff9d00"},{label:"Iberian Peninsula (110)",color:"#e04d9d"},{label:"Central Asia (79)",color:"#7d55fc"},{label:"South Sweden (156)",color:"#fc6355"},{label:"Italy, Balkans, Caucasus (92)",color:"white"},{label:"Central Europe (184)",color:"#fbf358"}],o.populationsColormap={western_europe:"#5781fc",relict:"#00e03d",germany:"#55d8d8",central_europe:"#fbf358",asia:"#7d55fc",south_sweden:"#fc6355",north_sweden:"#ff9d00",spain:"#e04d9d",italy_balkan_caucasus:"white"},window.addEventListener("WebComponentsReady",function(){}),o.toggleSettings=function(){this.$.settingsMenu.toggle()},o.openInfoWindow=function(){o.$.infoDialog.open()},o.googleMapLoaded=function(){this.mapLoaded=!0},o._clickPopMaker=function(){var e=new google.maps.InfoWindow({content:o._getInfoWIndowContent(this.accession)});e.open(o.$.mapelement.map,this)},o._aIcon="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z",o._initPopulationMarkers=function(e){if(null===this.populationMarkers){this.populationMarkers=[];for(var n=0;n<e.length;n++){var a=e[n],t=null;t="admixed"===a.group?{path:o._aIcon,fillColor:"black",strokeColor:"black",strokeWeight:1.3,scale:.6}:{path:google.maps.SymbolPath.CIRCLE,scale:6,fillColor:o.populationsColormap[a.group],fillOpacity:1,strokeColor:"black",strokeWeight:1};var r=new google.maps.Marker({position:a.coordinate,icon:t,draggable:!1,map:o.$.mapelement.map,accession:a});r.addListener("click",o._clickPopMaker),this.populationMarkers.push(r)}}},o._getInfoWIndowContent=function(e){return"<b>id:</b> "+e.id+"<br><b>name:</b> "+e.name+"<br><b>country:</b> "+e.country+"<br><b>sitename:</b> "+e.sitename+"<br><b>group:</b> "+e.group+"<br>"},o._hideChrSetting=function(e){return 1===e.length},o._sortPopulations=function(e,o){return e.isRelic===!0?1:o.isRelic===!0?-1:0},o.changeKSetting=function(){this.showSpinner=!0},o._getMarkersFromFusion=function(o){var n=[],a=[];if(null===o)return n;for(var t=parseInt(this.activek),r=o.valueRanges,l=r[0].values.length,i=1;l>i;i++){for(var s=[],u=parseInt(r[0].values[i][0]),c=r[1].values[i][0],p=parseFloat(r[2].values[i][0]),d=parseFloat(r[3].values[i][0]),m=r[4].values[i][0],f=r[5].values[i][0],g=r[6].values[i][0],h=new google.maps.LatLng(d,p),b=0;t>b;b++)s.push(100*parseFloat(r[b+7].values[i][0]));var k=e.createElement("admixture-marker"),v=null;9===t&&(v=this.populations.map(function(e){return e.color})),k.position=h,k.colors=v,k.data=s,k.accId=u,k.name=c,n.push(k),a.push({id:u,name:c,country:m,sitename:f,group:g,coordinate:h})}return this.showSpinner=!1,this._initPopulationMarkers(a),n},o._convertToInt=function(e){return parseInt(e)}}(document);